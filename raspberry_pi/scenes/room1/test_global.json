{
  "sceneId": "test_global_interrupt",
  "version": "2.0",
  "description": "Test Global Interruptu - sc\u00e9na skon\u010d\u00ed po 10s sama od seba",
  "initialState": "nekonecne_cakanie",
  "globalEvents": [
    {
      "type": "timeout",
      "delay": 10,
      "goto": "krizove_ukoncenie"
    }
  ],
  "states": {
    "nekonecne_cakanie": {
      "description": "Svieti a \u010dak\u00e1 na Button1. Tento stav nem\u00e1 vlastn\u00fd timeout, tak\u017ee by trval nav\u017edy.",
      "onEnter": [
        {
          "action": "mqtt",
          "topic": "room1/light",
          "message": "ON"
        }
      ],
      "transitions": [
        {
          "type": "mqttMessage",
          "topic": "room1/button1",
          "message": "PRESSED",
          "goto": "standardny_koniec"
        }
      ]
    },
    "krizove_ukoncenie": {
      "description": "Sem n\u00e1s hod\u00ed Global Interrupt po 10 sekund\u00e1ch behu sc\u00e9ny.",
      "onEnter": [
        {
          "action": "mqtt",
          "topic": "room1/light",
          "message": "OFF"
        },
        {
          "action": "mqtt",
          "topic": "room1/status",
          "message": "GLOBAL_INTERRUPT_10S_TRIGGERED"
        }
      ],
      "transitions": [
        {
          "type": "always",
          "goto": "END"
        }
      ]
    },
    "standardny_koniec": {
      "description": "Sem sa dostaneme, len ak stihne\u0161 stla\u010di\u0165 tla\u010didlo do 10s.",
      "onEnter": [
        {
          "action": "mqtt",
          "topic": "room1/light",
          "message": "OFF"
        },
        {
          "action": "mqtt",
          "topic": "room1/status",
          "message": "BUTTON_PRESSED_OK"
        }
      ],
      "transitions": [
        {
          "type": "always",
          "goto": "END"
        }
      ]
    }
  }
}